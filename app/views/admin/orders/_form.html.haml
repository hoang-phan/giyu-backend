= semantic_form_for [:admin, @order], data: { controller: "line-items" } do |f|
  = f.semantic_errors(*f.object.errors.attribute_names)
  
  = f.inputs do
    = f.input :status, as: :select, collection: Order.aasm.states.map(&:name)
    = f.input :total_amount, input_html: { min: 0, step: 0.01 }

  = f.inputs 'Line Items' do
    #line-items{ data: { line_items_target: "container" } }
      - f.object.line_items.each do |line_item|
        = f.semantic_fields_for :line_items, line_item do |line_item_form|
          = render 'line_item_fields', f: line_item_form
      = link_to "Add Line Item", "#", class: "button", data: { action: "line-items#add", line_items_target: "addButton" }

    .template{ data: { line_items_target: "template" } }
      = f.semantic_fields_for :line_items, LineItem.new do |line_item_form|
        = render 'line_item_fields', f: line_item_form

  = f.actions 